METADATA:
  ID: !!str SimpleService
  DESCRIPTION: > 
    This is a simple example of a generic request describing service
    with five different network functions and also five instances. All
    the network functions are included in a partial ordering segment.
    The composition objective function aims to optimize two metrics:
    "FlowRate" and "MemoryUsage". This request can be validated for a
    composition (YAMLR Composition) or a sequence of composition and
    embedding (YAML General), but it is not validated only for embedding
    (YAML Embedding) due to the definition of partial orderings.

SERVICE:
  TOPOLOGY: !!str IN [ NF1 NF2 NF3 NF4 NF5 ] EN1
  OELEMENTS:
    - !!str &NF1 NF1
    - !!str &NF2 NF2
    - !!str &NF3 NF3
    - !!str &NF4 NF4
    - !!str &NF5 NF5
  OUTNODES:
    - !!str EN1

GOAL_FUNCTION:
    METRICS:
      - ID: &MTC1 !!str FlowRate
        GOAL: !!str "MIN"
        WEIGHT: !!float 0.8
        INPUT: !!int 40
        EVALUATION: !!str "MULT"
        UPDATE: *MTC1
      - ID: &MTC2 !!str MemoryUsage
        GOAL: !!str "MIN"
        WEIGHT: !!float 0.2
        INPUT: !!int 40
        EVALUATION: !!str "MULT"
        UPDATE: *MTC1
    BRANCHINGS: []

POLICIES:
  IMMEDIATE:
    - ID: !!str RTT
      MIN: !!int 0
      MAX: !!int 20
      TYPE: !!str TRANSITION
      GOAL: !!str MIN
      WEIGHT: !!float 0.5
    - ID: !!str COST
      MIN: !!int 0
      MAX: !!int 1000
      TYPE: !!str DOMAIN
      GOAL: !!str MIN
      WEIGHT: !!float 0.3
  AGGREGATE:
    - ID: !!str RTT
      MIN: !!int 0
      MAX: !!int 100
      TYPE: !!str TRANSITION
      GOAL: !!str MIN
      WEIGHT: !!float 0.2

DEPLOYMENT:
  *NF1:
    FLAVOUR:
      MEMORY: !!int 512
      NET_IFACES: !!int 2
      CPUS: !!int 1
    BENCHMARK:
      *MTC1: !!float 0.5
      *MTC2: !!int 5
  *NF2:
    FLAVOUR:
      MEMORY: !!int 512
      NET_IFACES: !!int 2
      CPUS: !!int 1
    BENCHMARK:
      *MTC1: !!float 1.0
      *MTC2: !!float 20
  *NF3:
    FLAVOUR:
      MEMORY: !!int 512
      NET_IFACES: !!int 2
      CPUS: !!int 1
    BENCHMARK:
      *MTC1: !!float 0.8
      *MTC2: !!float 10
  *NF4:
    FLAVOUR:
      MEMORY: !!int 512
      NET_IFACES: !!int 2
      CPUS: !!int 1
    BENCHMARK:
      *MTC1: !!float 0.6
      *MTC2: !!float 10
  *NF5:
    FLAVOUR:
      MEMORY: !!int 512
      NET_IFACES: !!int 2
      CPUS: !!int 1
    BENCHMARK:
      *MTC1: !!float 0.5
      *MTC2: !!float 10